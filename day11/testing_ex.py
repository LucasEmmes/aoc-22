monkeys = [
    [52, 78, 79, 63, 51, 94],
    [77, 94, 70, 83, 53],
    [98, 50, 76],
    [92, 91, 61, 75, 99, 63, 84, 69],
    [51, 53, 83, 52],
    [76, 76],
    [75, 59, 93, 69, 76, 96, 65],
    [89]
    ]

testing = [
    [[19, 20, 19, ],[],[30, ],[20273, 5275, 12191, 2140, 2166, 1729, 1399, 2577, 411, 608, 481, 437, 589, 373, 475, ],[8, 8, 10, 26, 26, 11, 11, 9, 12, 10, 8, 9, 3, 3, 4, 4, 30, ],[],[],[],],
    [[5, 5, 5, 5, 11, 11, 5, 5, 5, ],[544, ],[12, 3, 3, 3, 3, 6, 6, 6, ],[1900, 519, 519, ],[588, 23, 80, 2253, 1355, 241, 193, 156, 287, 46, 68, 54, 49, 42, 54, ],[],[],[],],
    [[20, 16, 20, 25, 17, 98, 82, 454, 29, 10, ],[],[18, 54, 66, 753, 198, ],[304, 19, 19, 19, 19, 76, 76, 76, 133, 133, 133, 133, 297, 297, 133, 133, 133, ],[62, 212, 58, 58, ],[],[],[],],
    [[73, 23, ],[544, 544, 272, ],[21, 21, ],[684, 6156, 9196, 1197019, 82764, 437, 684, 462, 2685, 12457, ],[14, 5, 35, 3, 3, 3, 3, 9, 9, 9, 16, 16, 16, 16, 34, 34, 16, 16, 16, ],[],[],[],],
    [[7, 7, 7, 13, 13, 7, 7, 7, 7, 5, 5, 5, 14, 4, 7, ],[],[3, 3, 3, 3, ],[931, 931, 2001, 627, ],[62, 62, 11, 77, 685, 1023, 133003, 9197, 49, 77, 52, 299, 1385, ],[],[],[],],
    [[464, 19, 28, 3068, 44336, 343, 230, 28, 23, 23, ],[],[102, 18, 6, ],[19, 19, 19, 19, 354, 354, 133, 133, 133, 107, ],[8, 104, 104, 223, 70, 2, 2, 2, 2, 2, 2, 2, 2, ],[],[],[],],
    [[25, 76, 37, 37, 5, ],[21964, ],[3, 3, 3, 3, 3, 3, 3, 3, ],[684, 76, 519, 766, 84195, 1216772, 9411, 6308, 766, 627, 627, ],[3, 3, 3, 3, 40, 40, 16, 16, 16, 13, 75, ],[],[],[],],
    [[7, 7, 7, ],[],[27, 6, 15, 15, 3, 3, 3, 3, ],[19, 19, 19, 19, 19, 19, 19, 19, 684, 2083, 133, ],[135198, 2442, 77, 9, 58, 86, 9356, 1046, 702, 86, 70, 70, 7, 7, ],[],[],[],],
    [[4, 4, 25, 25, 31, 236, 3121, 31, 5, 28, 45068, ],[],[351, 21, 816, ],[1539, 76, 475, 475, 19, 19, 19, 19, ],[3, 3, 3, 3, 3, 3, 3, 3, 77, 232, 16, 2, 2, 2, ],[],[],[],],
    [[41067, 7, 79, 28, ],[1405696, ],[3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, ],[931, 107, 107, 684, 684, 848, 6472, 85652, 848, 133, 766, 1236862, ],[172, 9, 54, 54, 3, 3, 3, 3, ],[],[],[],],
    [[20, 20, 5, 59, ],[],[3, 3, 3, 3, 95, 95, ],[19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 1127061, 2166, 766, ],[156190, 104, 13, 13, 77, 77, 720, 9518, 16, 86, 137430, 2, ],[],[],[],],
    [[45812, 31, 7, 3175, 242, 28, 28, 37, ],[544, 544, ],[3, 6, 6, 52065, ],[19, 19, 19, 19, 19050, 19050, 133, ],[3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 125230, 241, 86, 10, ],[],[],[],],
    [[5, 31, 82, ],[],[41745, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, ],[19, 76, 76, -27134723, 1257280, 848, 87134, 6637, 766, 766, ],[62, 62, 3, 3, 3, 3, 2117, 2117, 16, 2, 7, ],[],[],[],],
    [[4, 7, 23, 23, ],[],[3, 708, 708, 3, 3, 3, 3, 95, ],[54466445, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 133, 848, ],[14, 3, 9, 9, -859481, 139699, 9682, 738, 86, 86, ],[],[],[],],
    [[31, 31, 248, 3229, 46568, 5, 5, 7, ],[],[-286491, 3, 95, ],[19, 1058224, 1058224, 19, 19, 19, 19, 19050, 107, 627, 627, ],[663111, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 16, 2, ],[],[],[],],
    [[7, 221039, ],[],[3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, ],[15050818, 19, 19050, 848, 848, 6802, 88616, 1278028, 133, 133, ],[3, 117581, 117581, 3, 3, 3, 3, 2117, 13, 70, 70, 2, ],[],[],[],],
    [[25, 25, 39196, 39196, ],[],[3, 6, 708, 3, 3, 3, 3, 3, 95, 95, ],[19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, ],[594571, 3, 2117, 757, 9847, 142004, 16, 16, 2, 35476, ],[],[],[],],
    [[11827, 7, 7, 3284, 254, ],[],[3, 47337, 708, 3, 198192, ],[19, 76, 1058224, 19, 19, 19, 19, 19, 19050, 19050, 684, 684, 1075710, 1075710, ],[3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, ],[],[],[],],
    [[],[],[3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, ],[19, -36397299, 1058224, 19, 30152430, ],[3, 9, 117581, 3, 3, 3, 3, 3, 2117, 2117, 77, 77, 119524, 119524, 1899, 2, 2, 528, 42, ],[],[],[],],
    [[16, 178, 635, 28, 28, 39196, 5, ],[],[3, 3, 39843, 39843, 708, 708, 3, 3, 3, 3, 3, 3, ],[19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, ],[3, -810913, 117581, 3, 117041, ],[],[],[],],
]

monkey_business = [0, 0, 0, 0, 0, 0, 0, 0]

def validate(i):
    for j, monkey in enumerate(monkeys):
        if (a:=list(sorted(monkeys[j]))) != (b:=list(sorted(testing[i][j]))):
            print("Not equal at", i)
            print("Expected", a, "but got", b)
            print()

for i in range(10000):
    for item in monkeys[0]:
        item = item % 9699690
        item = item * 13
        item = item // 3
        if (item%5==0):
            monkeys[1].append(item)
        else:
            monkeys[6].append(item)
        monkey_business[0]+=1
    monkeys[0] = []

    for item in monkeys[1]:
        item = item % 9699690
        item = item + 3
        item = item // 3
        if (item%7==0):
            monkeys[5].append(item)
        else:
            monkeys[3].append(item)
        monkey_business[1]+=1
    monkeys[1] = []

    for item in monkeys[2]:
        item = item % 9699690
        item = item * item
        item = item // 3
        if (item%13==0):
            monkeys[0].append(item)
        else:
            monkeys[6].append(item)
        monkey_business[2]+=1
    monkeys[2] = []

    for item in monkeys[3]:
        item = item % 9699690
        item = item + 5
        item = item // 3
        if (item%11==0):
            monkeys[5].append(item)
        else:
            monkeys[7].append(item)
        monkey_business[3]+=1
    monkeys[3] = []

    for item in monkeys[4]:
        item = item % 9699690
        item = item + 7
        item = item // 3
        if (item%3==0):
            monkeys[2].append(item)
        else:
            monkeys[0].append(item)
        monkey_business[4]+=1
    monkeys[4] = []

    for item in monkeys[5]:
        item = item % 9699690
        item = item + 4
        item = item // 3
        if (item%2==0):
            monkeys[4].append(item)
        else:
            monkeys[7].append(item)
        monkey_business[5]+=1
    monkeys[5] = []

    for item in monkeys[6]:
        item = item % 9699690
        item = item * 19
        item = item // 3
        if (item%17==0):
            monkeys[1].append(item)
        else:
            monkeys[3].append(item)
        monkey_business[6]+=1
    monkeys[6] = []

    for item in monkeys[7]:
        item = item % 9699690
        item = item + 2
        item = item // 3
        if (item%19==0):
            monkeys[2].append(item)
        else:
            monkeys[4].append(item)
        monkey_business[7]+=1
    monkeys[7] = []
    
    # validate(i)

print(monkey_business)
k = list(sorted(monkey_business, reverse=True))
print(k[0] * k[1])